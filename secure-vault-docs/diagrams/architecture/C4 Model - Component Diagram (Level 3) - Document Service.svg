<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2000px" preserveAspectRatio="none" style="width:1852px;height:2000px;background:#FFFFFF;" version="1.1" viewBox="0 0 1852 2000" width="1852px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="483" x="677.75" y="22.9951">C4 Model - Component Diagram (Level 3) - Document Service</text><!--cluster Document Service Container--><g id="cluster_Document Service Container"><path d="M145,143.5969 L372,143.5969 A3.75,3.75 0 0 1 374.5,146.0969 L381.5,165.8937 L1304,165.8937 A2.5,2.5 0 0 1 1306.5,168.3937 L1306.5,1983.0069 A2.5,2.5 0 0 1 1304,1985.5069 L145,1985.5069 A2.5,2.5 0 0 1 142.5,1983.0069 L142.5,146.0969 A2.5,2.5 0 0 1 145,143.5969 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="142.5" x2="381.5" y1="165.8937" y2="165.8937"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="226" x="146.5" y="158.592">Document Service Container</text></g><!--cluster Router--><g id="cluster_Router"><rect fill="#ADD8E6" height="183.79" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="247" x="620.5" y="194.5969"/><rect fill="#ADD8E6" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="847.5" y="199.5969"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="845.5" y="201.5969"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="845.5" y="205.5969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="99" x="694.5" y="220.592">HTTP Router</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="693" y="236.8889">(Go net/http)</text></g><!--cluster AuthMW--><g id="cluster_AuthMW"><rect fill="#FFFFE0" height="138.4" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="223" x="632.5" y="443.3869"/><rect fill="#FFFFE0" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="835.5" y="448.3869"/><rect fill="#FFFFE0" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="833.5" y="450.3869"/><rect fill="#FFFFE0" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="833.5" y="454.3869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="115" x="686.5" y="469.382">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="698.5" y="485.6789">Middleware</text></g><!--cluster AuthzMW--><g id="cluster_AuthzMW"><rect fill="#FFFFE0" height="138.4" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="259" x="596.5" y="646.7869"/><rect fill="#FFFFE0" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="835.5" y="651.7869"/><rect fill="#FFFFE0" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="833.5" y="653.7869"/><rect fill="#FFFFE0" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="833.5" y="657.7869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="673" y="672.782">Authorization</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="680.5" y="689.0789">Middleware</text></g><!--cluster LogMW--><g id="cluster_LogMW"><rect fill="#FFFFE0" height="138.4" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="239" x="606.5" y="850.1869"/><rect fill="#FFFFE0" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="825.5" y="855.1869"/><rect fill="#FFFFE0" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="823.5" y="857.1869"/><rect fill="#FFFFE0" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="823.5" y="861.1869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63" x="694.5" y="876.182">Logging</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91" x="680.5" y="892.4789">Middleware</text></g><!--cluster UploadHandler--><g id="cluster_UploadHandler"><rect fill="#90EE90" height="168.66" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="233" x="194.5" y="1053.5869"/><rect fill="#90EE90" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="407.5" y="1058.5869"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="405.5" y="1060.5869"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="405.5" y="1064.5869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54" x="284" y="1079.582">Upload</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="280.5" y="1095.8789">Handler</text></g><!--cluster DownloadHandler--><g id="cluster_DownloadHandler"><rect fill="#90EE90" height="168.66" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="255" x="1019.5" y="1053.5869"/><rect fill="#90EE90" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="1254.5" y="1058.5869"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1252.5" y="1060.5869"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1252.5" y="1064.5869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="78" x="1108" y="1079.582">Download</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="1116.5" y="1095.8789">Handler</text></g><!--cluster SearchHandler--><g id="cluster_SearchHandler"><rect fill="#90EE90" height="168.66" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="225" x="467.5" y="1053.5869"/><rect fill="#90EE90" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="672.5" y="1058.5869"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="670.5" y="1060.5869"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="670.5" y="1064.5869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="55" x="552.5" y="1079.582">Search</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="549.5" y="1095.8789">Handler</text></g><!--cluster VersionHandler--><g id="cluster_VersionHandler"><rect fill="#90EE90" height="153.54" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="247" x="732.5" y="1061.1469"/><rect fill="#90EE90" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="959.5" y="1066.1469"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="957.5" y="1068.1469"/><rect fill="#90EE90" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="957.5" y="1072.1469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="825.5" y="1087.142">Version</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="825.5" y="1103.4389">Handler</text></g><!--cluster DocRepo--><g id="cluster_DocRepo"><rect fill="#FFA500" height="153.53" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="265" x="1009.5" y="1505.7769"/><rect fill="#FFA500" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="1254.5" y="1510.7769"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1252.5" y="1512.7769"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1252.5" y="1516.7769"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80" x="1102" y="1531.772">Document</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="85" x="1099.5" y="1548.0689">Repository</text></g><!--cluster PermChecker--><g id="cluster_PermChecker"><rect fill="#FFA500" height="153.53" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="249" x="319.5" y="1287.2469"/><rect fill="#FFA500" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="548.5" y="1292.2469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="546.5" y="1294.2469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="546.5" y="1298.2469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87" x="400.5" y="1313.242">Permission</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="66" x="411" y="1329.5389">Checker</text></g><!--cluster FileValidator--><g id="cluster_FileValidator"><rect fill="#FFA500" height="153.53" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="218" x="608.5" y="1287.2469"/><rect fill="#FFA500" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="806.5" y="1292.2469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="804.5" y="1294.2469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="804.5" y="1298.2469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="27" x="704" y="1313.242">File</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="70" x="682.5" y="1329.5389">Validator</text></g><!--cluster SearchIndexer--><g id="cluster_SearchIndexer"><rect fill="#FFA500" height="153.53" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="234" x="866.5" y="1287.2469"/><rect fill="#FFA500" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="1080.5" y="1292.2469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1078.5" y="1294.2469"/><rect fill="#FFA500" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1078.5" y="1298.2469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="55" x="956" y="1313.242">Search</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60" x="953.5" y="1329.5389">Indexer</text></g><!--cluster DocModel--><g id="cluster_DocModel"><rect fill="#ADD8E6" height="229.2" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="257" x="720.5" y="1724.3069"/><rect fill="#ADD8E6" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="957.5" y="1729.3069"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="955.5" y="1731.3069"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="955.5" y="1735.3069"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="80" x="809" y="1750.302">Document</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="825.5" y="1766.5989">Model</text></g><!--cluster VersionModel--><g id="cluster_VersionModel"><rect fill="#ADD8E6" height="214.06" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="257" x="1017.5" y="1731.8769"/><rect fill="#ADD8E6" height="10" style="stroke:#181818;stroke-width:1.0;" width="15" x="1254.5" y="1736.8769"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1252.5" y="1738.8769"/><rect fill="#ADD8E6" height="2" style="stroke:#181818;stroke-width:1.0;" width="4" x="1252.5" y="1742.8769"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="1115.5" y="1757.872">Version</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="1122.5" y="1774.1689">Model</text></g><g id="elem_GMN10"><path d="M644.5,253.5969 L644.5,354.3937 L824.5,354.3937 L824.5,263.5969 L814.5,253.5969 L644.5,253.5969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M814.5,253.5969 L814.5,263.5969 L824.5,263.5969 L814.5,253.5969 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="650.5" y="270.6638">Endpoints:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="650.5" y="285.7966">POST /documents</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="650.5" y="300.9294">GET /documents/{id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="650.5" y="316.0622">PUT /documents/{id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="650.5" y="331.195">DELETE /documents/{id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="650.5" y="346.3278">GET /documents/search</text></g><g id="elem_GMN14"><path d="M657,502.3869 L657,557.7853 L812,557.7853 L812,512.3869 L802,502.3869 L657,502.3869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M802,502.3869 L802,512.3869 L812,512.3869 L802,502.3869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="663" y="519.4538">&#8226; Validate JWT token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="663" y="534.5866">&#8226; Extract user claims</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="663" y="549.7194">&#8226; Inject user context</text></g><g id="elem_GMN18"><path d="M620.5,705.7869 L620.5,761.1853 L812.5,761.1853 L812.5,715.7869 L802.5,705.7869 L620.5,705.7869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M802.5,705.7869 L802.5,715.7869 L812.5,715.7869 L802.5,705.7869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="626.5" y="722.8538">&#8226; Check RBAC permissions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="626.5" y="737.9866">&#8226; Evaluate ABAC policies</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="626.5" y="753.1194">&#8226; Enforce access control</text></g><g id="elem_GMN22"><path d="M630.5,909.1869 L630.5,964.5853 L802.5,964.5853 L802.5,919.1869 L792.5,909.1869 L630.5,909.1869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M792.5,909.1869 L792.5,919.1869 L802.5,919.1869 L792.5,909.1869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="636.5" y="926.2538">&#8226; Log request/response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="636.5" y="941.3866">&#8226; Track performance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="636.5" y="956.5194">&#8226; Error tracking</text></g><g id="elem_GMN26"><path d="M238,1112.5869 L238,1198.2509 L403,1198.2509 L403,1122.5869 L393,1112.5869 L238,1112.5869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M393,1112.5869 L393,1122.5869 L403,1122.5869 L393,1112.5869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="244" y="1129.6538">1. Validate file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="244" y="1144.7866">2. Check permissions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="244" y="1159.9194">3. Encrypt document</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="244" y="1175.0522">4. Store metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="244" y="1190.185">5. Return document ID</text></g><g id="elem_GMN30"><path d="M1043.5,1112.5869 L1043.5,1198.2509 L1231.5,1198.2509 L1231.5,1122.5869 L1221.5,1112.5869 L1043.5,1112.5869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1221.5,1112.5869 L1221.5,1122.5869 L1231.5,1122.5869 L1221.5,1112.5869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1049.5" y="1129.6538">1. Check permissions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1049.5" y="1144.7866">2. Retrieve encrypted blob</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1049.5" y="1159.9194">3. Decrypt document</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1049.5" y="1175.0522">4. Stream to user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="1049.5" y="1190.185">5. Log download</text></g><g id="elem_GMN34"><path d="M492,1112.5869 L492,1198.2509 L649,1198.2509 L649,1122.5869 L639,1112.5869 L492,1112.5869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M639,1112.5869 L639,1122.5869 L649,1122.5869 L639,1112.5869 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="498" y="1129.6538">1. Parse query</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="498" y="1144.7866">2. Check permissions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="498" y="1159.9194">3. Search metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="498" y="1175.0522">4. Filter by access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="498" y="1190.185">5. Return results</text></g><g id="elem_GMN38"><path d="M756.5,1120.1469 L756.5,1190.6781 L936.5,1190.6781 L936.5,1130.1469 L926.5,1120.1469 L756.5,1120.1469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M926.5,1120.1469 L926.5,1130.1469 L936.5,1130.1469 L926.5,1120.1469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="762.5" y="1137.2138">1. Create new version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="762.5" y="1152.3466">2. Store previous version</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="762.5" y="1167.4794">3. Update metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="762.5" y="1182.6122">4. Maintain history</text></g><g id="elem_GMN42"><path d="M1052.5,1564.7769 L1052.5,1635.3081 L1250.5,1635.3081 L1250.5,1574.7769 L1240.5,1564.7769 L1052.5,1564.7769 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1240.5,1564.7769 L1240.5,1574.7769 L1250.5,1574.7769 L1240.5,1564.7769 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1058.5" y="1581.8438">Database abstraction:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1058.5" y="1596.9766">&#8226; CRUD operations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="1058.5" y="1612.1094">&#8226; Transaction management</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="1058.5" y="1627.2422">&#8226; Query building</text></g><g id="elem_GMN46"><path d="M363,1346.2469 L363,1416.7781 L544,1416.7781 L544,1356.2469 L534,1346.2469 L363,1346.2469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M534,1346.2469 L534,1356.2469 L544,1356.2469 L534,1346.2469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="369" y="1363.3138">&#8226; Check ownership</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="369" y="1378.4466">&#8226; Check shared access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="369" y="1393.5794">&#8226; Check role permissions</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="369" y="1408.7122">&#8226; Evaluate policies</text></g><g id="elem_GMN50"><path d="M632,1346.2469 L632,1416.7781 L783,1416.7781 L783,1356.2469 L773,1346.2469 L632,1346.2469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M773,1346.2469 L773,1356.2469 L783,1356.2469 L773,1346.2469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="638" y="1363.3138">&#8226; File type validation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="638" y="1378.4466">&#8226; Size limits</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="638" y="1393.5794">&#8226; Malware scanning</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="638" y="1408.7122">&#8226; Content scanning</text></g><g id="elem_GMN54"><path d="M890,1346.2469 L890,1416.7781 L1057,1416.7781 L1057,1356.2469 L1047,1346.2469 L890,1346.2469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1047,1346.2469 L1047,1356.2469 L1057,1356.2469 L1047,1346.2469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="896" y="1363.3138">&#8226; Index metadata</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="896" y="1378.4466">&#8226; Full-text search</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="896" y="1393.5794">&#8226; Classification filtering</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="896" y="1408.7122">&#8226; Cache results</text></g><g id="elem_GMN58"><path d="M744.5,1783.3069 L744.5,1929.5022 L934.5,1929.5022 L934.5,1793.3069 L924.5,1783.3069 L744.5,1783.3069 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M924.5,1783.3069 L924.5,1793.3069 L934.5,1793.3069 L924.5,1783.3069 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="750.5" y="1800.3738">type Document struct {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="758.5" y="1815.5066">ID              uuid.UUID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="758.5" y="1830.6394">Title           string</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="758.5" y="1845.7722">Classification  string</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="758.5" y="1860.905">OwnerID         uuid.UUID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="758.5" y="1876.0378">CurrentVersion  int</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="758.5" y="1891.1706">CreatedAt       time.Time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="758.5" y="1906.3035">UpdatedAt       time.Time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="750.5" y="1921.4363">}</text></g><g id="elem_GMN62"><path d="M1042,1790.8769 L1042,1921.9394 L1231,1921.9394 L1231,1800.8769 L1221,1790.8769 L1042,1790.8769 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1221,1790.8769 L1221,1800.8769 L1231,1800.8769 L1221,1790.8769 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="1048" y="1807.9438">type Version struct {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="1056" y="1823.0766">ID            uuid.UUID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1056" y="1838.2094">DocumentID    uuid.UUID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1056" y="1853.3422">VersionNumber int</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1056" y="1868.475">EncryptedBlob []byte</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="1056" y="1883.6078">CreatedBy     uuid.UUID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1056" y="1898.7406">CreatedAt     time.Time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1048" y="1913.8735">}</text></g><!--entity Gateway--><g id="elem_Gateway"><rect fill="#FFFFE0" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="807.5" y="44.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="817.5" y="67.292">API Gateway</text></g><!--entity CryptoService--><g id="elem_CryptoService"><rect fill="#90EE90" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="7" y="918.7369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="17" y="941.732">Crypto Service</text></g><!--entity AuditService--><g id="elem_AuditService"><rect fill="#90EE90" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1621" y="1363.3669"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1631" y="1386.362">Audit Service</text></g><!--entity DB--><g id="elem_DB"><path d="M1323,1843.7569 C1323,1833.7569 1373.5,1833.7569 1373.5,1833.7569 C1373.5,1833.7569 1424,1833.7569 1424,1843.7569 L1424,1869.0538 C1424,1879.0538 1373.5,1879.0538 1373.5,1879.0538 C1373.5,1879.0538 1323,1879.0538 1323,1869.0538 L1323,1843.7569 " fill="#F08080" style="stroke:#181818;stroke-width:0.5;"/><path d="M1323,1843.7569 C1323,1853.7569 1373.5,1853.7569 1373.5,1853.7569 C1373.5,1853.7569 1424,1853.7569 1424,1843.7569 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1333" y="1870.752">PostgreSQL</text></g><!--entity S3--><g id="elem_S3"><path d="M1379,1368.8669 C1379,1358.8669 1440.5,1358.8669 1440.5,1358.8669 C1440.5,1358.8669 1502,1358.8669 1502,1368.8669 L1502,1394.1638 C1502,1404.1638 1440.5,1404.1638 1440.5,1404.1638 C1440.5,1404.1638 1379,1404.1638 1379,1394.1638 L1379,1368.8669 " fill="#F08080" style="stroke:#181818;stroke-width:0.5;"/><path d="M1379,1368.8669 C1379,1378.8669 1440.5,1378.8669 1440.5,1378.8669 C1440.5,1378.8669 1502,1378.8669 1502,1368.8669 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1389" y="1395.862">Object Storage</text></g><!--entity Redis--><g id="elem_Redis"><path d="M1322,1587.3969 C1322,1577.3969 1375.5,1577.3969 1375.5,1577.3969 C1375.5,1577.3969 1429,1577.3969 1429,1587.3969 L1429,1612.6938 C1429,1622.6938 1375.5,1622.6938 1375.5,1622.6938 C1375.5,1622.6938 1322,1622.6938 1322,1612.6938 L1322,1587.3969 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M1322,1587.3969 C1322,1597.3969 1375.5,1597.3969 1375.5,1597.3969 C1375.5,1597.3969 1429,1597.3969 1429,1587.3969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1332" y="1614.392">Redis Cache</text></g><!--link Redis to GMN10--><g id="link_Redis_GMN10"><path d="M1429.41,1598.4269 C1552.87,1593.8969 1845.5,1563.9969 1845.5,1382.5169 C65.5,1993.5069 65.5,1993.5069 1845.5,529.0869 C1845.5,326.4569 1144.02,423.5769 942.5,402.3869 C917.24,399.7369 851.74,404.6369 828.5,394.3869 C808.1,385.3969 789.42,369.9869 774.18,354.4769 " fill="none" id="Redis-GMN10" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN10 to GMN14--><g id="link_GMN10_GMN14"><path d="M734.5,354.7269 C734.5,400.1169 734.5,465.5069 734.5,501.9469 " fill="none" id="GMN10-GMN14" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN14 to GMN18--><g id="link_GMN14_GMN18"><path d="M732.07,558.2469 C728.63,596.7969 722.36,666.9469 718.92,705.4369 " fill="none" id="GMN14-GMN18" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN18 to GMN22--><g id="link_GMN18_GMN22"><path d="M716.5,761.6469 C716.5,800.1969 716.5,870.3469 716.5,908.8369 " fill="none" id="GMN18-GMN22" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN22 to GMN26--><g id="link_GMN22_GMN26"><path d="M659.69,965.0169 C632.99,978.4069 601.05,995.3569 573.5,1012.5869 C562.72,1019.3269 562.34,1024.9769 550.5,1029.5869 C519.26,1041.7469 506.68,1025.2769 475.5,1037.5869 C433.03,1054.3569 392.09,1086.1069 362.97,1112.2769 " fill="none" id="GMN22-GMN26" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN26 to GMN30--><g id="link_GMN26_GMN30"><path d="M359.65,1112.2969 C391.85,1080.2469 440.59,1039.0869 493,1021.0869 C543.13,1003.8669 920,1003.5069 970,1021.0869 C1021.34,1039.1269 1068.6,1080.2869 1099.74,1112.3169 " fill="none" id="GMN26-GMN30" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN30 to GMN34--><g id="link_GMN30_GMN34"><path d="M1099.74,1112.3169 C1068.6,1080.2869 1021.34,1039.1269 970,1021.0869 C938.66,1010.0669 701.88,1008.8269 671,1021.0869 C630.94,1036.9969 603.61,1079.4069 587.68,1112.3569 " fill="none" id="GMN30-GMN34" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN34 to GMN38--><g id="link_GMN34_GMN38"><path d="M584.34,1112.1969 C601.67,1066.7169 635.03,1003.9069 683,1021.0869 C737.47,1040.5969 786.81,1086.9469 816.7,1119.7269 " fill="none" id="GMN34-GMN38" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN38 to GMN42--><g id="link_GMN38_GMN42"><path d="M883.25,1190.9769 C899.3,1207.0069 917.78,1226.7969 932.5,1246.2469 C937.79,1253.2369 935,1258.7169 942.5,1263.2469 C958.3,1272.7969 1094.92,1258.7369 1108.5,1271.2469 C1109.85,1272.4869 1136.42,1480.4169 1147.1,1564.4269 " fill="none" id="GMN38-GMN42" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN42 to GMN46--><g id="link_GMN42_GMN46"><path d="M1129.44,1564.4169 C1111.12,1538.9669 1082.61,1506.0669 1048.5,1489.7769 C961.62,1448.2869 709.74,1480.7769 616.5,1456.7769 C581.87,1447.8669 545.46,1431.9769 515.85,1417.1769 " fill="none" id="GMN42-GMN46" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN46 to GMN50--><g id="link_GMN46_GMN50"><path d="M544.29,1381.5169 C573.4,1381.5169 602.52,1381.5169 631.63,1381.5169 " fill="none" id="GMN46-GMN50" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN50 to GMN54--><g id="link_GMN50_GMN54"><path d="M719.18,1345.9969 C735.66,1302.8569 769.16,1237.8069 817,1254.7469 C867.92,1272.7869 914.38,1315.2269 943.22,1346.0369 " fill="none" id="GMN50-GMN54" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN54 to GMN58--><g id="link_GMN54_GMN58"><path d="M963.76,1416.9069 C942.04,1493.5269 889.31,1679.6369 860,1783.0769 " fill="none" id="GMN54-GMN58" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN58 to GMN62--><g id="link_GMN58_GMN62"><path d="M868.3,1783.0369 C887.06,1746.9469 915.65,1707.8369 956,1691.8069 C1017.88,1667.2369 1071.75,1734.7169 1104.16,1790.5769 " fill="none" id="GMN58-GMN62" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link Gateway to Router--><g id="link_Gateway_Router"><path d="M859.5,81.0569 C859.5,94.6719 859.5,115.0263 859.5,137.9784 C859.5,149.4545 859.5,161.5801 859.5,173.8374 C859.5,179.966 859.5,186.1276 859.5,192.2574 C859.5,193.0237 859.5,187.7894 859.5,188.5545 " fill="none" id="Gateway-to-Router" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="859.5,194.5545,863.5,185.5545,859.5,189.5545,855.5,185.5545,859.5,194.5545" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="860.5" y="123.6638">HTTP Requests</text></g><!--link Router to AuthMW--><g id="link_Router_AuthMW"><path d="M855.5048,379.5671 C855.4617,380.3717 855.4185,381.1792 855.3751,381.9894 C855.2883,383.6098 855.201,385.2411 855.1132,386.8817 C854.9375,390.1629 854.7598,393.4814 854.5808,396.8247 C854.2228,403.5113 853.8595,410.2973 853.4962,417.0831 C853.133,423.8689 852.7697,430.6545 852.4118,437.3403 C852.3223,439.0117 852.2332,440.6769 852.1444,442.3343 C852.1334,442.5415 852.443,436.7572 852.4319,436.9641 " fill="none" id="Router-to-AuthMW" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="852.1112,442.9555,856.5866,434.1822,852.3785,437.9627,848.598,433.7546,852.1112,442.9555" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="855.22" y="415.4538">All Requests</text></g><!--link AuthMW to AuthzMW--><g id="link_AuthMW_AuthzMW"><path d="M847.5,582.3551 C847.5,582.6921 847.5,583.0301 847.5,583.369 C847.5,584.7248 847.5,586.0959 847.5,587.4809 C847.5,590.2511 847.5,593.0771 847.5,595.9478 C847.5,607.4305 847.5,619.6284 847.5,631.8256 C847.5,634.8749 847.5,637.9242 847.5,640.9622 C847.5,642.4812 847.5,643.9974 847.5,645.5094 C847.5,645.8874 847.5,640.2652 847.5,640.6426 " fill="none" id="AuthMW-to-AuthzMW" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="847.5,646.6426,851.5,637.6426,847.5,641.6426,843.5,637.6426,847.5,646.6426" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="848.5" y="618.8538">Authenticated</text></g><!--link AuthzMW to LogMW--><g id="link_AuthzMW_LogMW"><path d="M844.9516,785.7551 C844.9348,786.0921 844.9181,786.4301 844.9012,786.769 C844.834,788.1248 844.7659,789.4959 844.6971,790.8809 C844.5596,793.6511 844.4194,796.4771 844.2769,799.3478 C843.707,810.8305 843.1016,823.0284 842.4963,835.2256 C842.3449,838.2749 842.1936,841.3242 842.0428,844.3622 C841.9675,845.8812 841.8922,847.3974 841.8172,848.9094 C841.7984,849.2874 842.0771,843.6725 842.0583,844.05 " fill="none" id="AuthzMW-to-LogMW" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="841.7609,850.0426,846.2021,841.2519,842.0088,845.0488,838.2119,840.8554,841.7609,850.0426" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="844.69" y="822.2538">Authorized</text></g><!--link LogMW to UploadHandler--><g id="link_LogMW_UploadHandler"><path d="M830.5544,988.7021 C830.4563,988.9136 830.3569,989.1243 830.2563,989.3344 C829.8537,990.1747 829.431,991.0037 828.9871,991.8191 C828.0992,993.4501 827.1265,995.0272 826.0614,996.5335 C823.9313,999.5461 821.4313,1002.2756 818.5,1004.5869 C801.82,1017.7369 648.56,1009.8369 627.5,1012.5869 C592.75,1017.1169 585.29,1025.3569 550.5,1029.5869 C532.35,1031.7869 235.28,1025.5669 221.5,1037.5869 C216.62,1041.8406 212.6533,1046.8164 209.449,1052.2721 C209.2487,1052.6131 211.9984,1047.7296 211.8041,1048.0742 " fill="none" id="LogMW-to-UploadHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="208.8571,1053.3006,216.7618,1047.4257,211.3129,1048.9453,209.7933,1043.4964,208.8571,1053.3006" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="628.5" y="1025.6538">POST /documents</text></g><!--link LogMW to DownloadHandler--><g id="link_LogMW_DownloadHandler"><path d="M845.9906,938.6899 C846.4481,938.7349 846.9228,938.7818 847.4146,938.8307 C849.3817,939.0261 851.6208,939.2518 854.1131,939.5081 C864.0823,940.5334 878.1031,942.0481 894.9756,944.0656 C928.7206,948.1006 973.8725,954.1469 1020.8325,962.3119 C1114.7525,978.6419 1215.905,1003.4469 1247.5,1037.5869 C1251.8975,1042.3369 1252.7635,1042.3475 1255.7009,1048.0779 " fill="none" id="LogMW-to-DownloadHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1258.4379,1053.4173,1257.892,1043.5836,1256.1571,1048.9678,1250.7728,1047.2328,1258.4379,1053.4173" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1239.54" y="1025.6538">GET /documents/{id}</text></g><!--link LogMW to SearchHandler--><g id="link_LogMW_SearchHandler"><path d="M828.338,988.7339 C828.2904,988.8426 828.2424,988.9513 828.1943,989.0599 C828.0017,989.4941 827.8051,989.9264 827.6045,990.3568 C826.802,992.0782 825.935,993.7671 824.9983,995.4092 C823.1248,998.6934 820.9725,1001.7906 818.5,1004.5869 C793.57,1032.7869 767.73,1011.5969 740.5,1037.5869 C719.995,1057.1519 706.1075,1085.7594 697.2913,1109.7681 C696.1892,1112.7692 695.1664,1115.6985 694.2199,1118.5292 C693.7466,1119.9446 693.2923,1121.3353 692.8568,1122.6981 C692.7479,1123.0388 694.4484,1117.6567 694.3418,1117.9939 " fill="none" id="LogMW-to-SearchHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="692.5336,1123.7149,699.0599,1116.3388,694.0404,1118.9474,691.4319,1113.9279,692.5336,1123.7149" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="810.48" y="1025.6538">GET /search</text></g><!--link LogMW to VersionHandler--><g id="link_LogMW_VersionHandler"><path d="M845.6853,942.244 C845.8909,942.358 846.0998,942.4741 846.312,942.5923 C848.0096,943.5383 849.9185,944.6213 852.008,945.8361 C860.3659,950.6953 871.6144,957.6638 883.7987,966.4106 C908.1675,983.9044 936.28,1008.5119 952.5,1037.5869 C955.6538,1043.2394 958.3191,1049.2697 960.5684,1055.4993 C961.1307,1057.0567 961.667,1058.6265 962.1785,1060.206 C962.2424,1060.4034 960.4804,1054.8855 960.5436,1055.0832 " fill="none" id="LogMW-to-VersionHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="962.3691,1060.7988,963.4411,1051.0084,960.8478,1056.0358,955.8204,1053.4425,962.3691,1060.7988" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="947.07" y="1025.6538">Version Ops</text></g><!--link UploadHandler to FileValidator--><g id="link_UploadHandler_FileValidator"><path d="M209.3521,1222.4372 C210.3425,1224.4472 211.442,1226.3932 212.6613,1228.2547 C215.0998,1231.9778 218.0175,1235.3631 221.5,1238.2469 C229.89,1245.1969 406.66,1245.0969 417.5,1246.2469 C461.46,1250.9369 471.51,1258.8369 515.5,1263.2469 C531.15,1264.8169 786.56,1261.0069 798.5,1271.2469 C803.1112,1275.2019 806.8905,1279.838 809.9726,1284.9277 C810.3579,1285.5639 807.802,1280.9714 808.1657,1281.6213 " fill="none" id="UploadHandler-to-FileValidator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="811.096,1286.8571,810.1911,1277.0499,808.6541,1282.4939,803.2101,1280.9569,811.096,1286.8571" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="516.5" y="1259.3138">Validate</text></g><!--link FileValidator to UploadHandler--><g id="link_FileValidator_UploadHandler"><path d="M811.1495,1286.7943 C810.7844,1286.1459 810.4086,1285.5043 810.0218,1284.8698 C806.9278,1279.7941 803.1325,1275.1769 798.5,1271.2469 C788.63,1262.8769 345.35,1264.7869 332.5,1263.2469 C282.29,1257.2269 257.38,1273.8869 221.5,1238.2469 C218.2925,1235.0606 215.5833,1231.4461 213.2987,1227.5537 C212.7275,1226.5806 212.1829,1225.5902 211.6637,1224.5847 C211.4041,1224.082 211.1508,1223.5755 210.9038,1223.0655 C210.7803,1222.8106 213.2072,1227.9864 213.0867,1227.7297 " fill="none" id="FileValidator-to-UploadHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="210.5378,1222.2981,210.7401,1232.1448,212.6619,1226.8245,217.9823,1228.7463,210.5378,1222.2981" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="333.5" y="1259.3138">Valid/Invalid</text></g><!--link UploadHandler to CryptoService--><g id="link_UploadHandler_CryptoService"><path d="M194.369,1150.8605 C194.124,1150.7486 193.8741,1150.6341 193.6193,1150.517 C192.6003,1150.0486 191.5041,1149.5388 190.3362,1148.9879 C188.0004,1147.8862 185.3779,1146.6203 182.5133,1145.1933 C171.0547,1139.4853 155.7206,1131.2 139.3538,1120.5356 C106.62,1099.2069 69.755,1068.3619 51.5,1029.5869 C40.16,1005.5069 47.3044,979.8808 55.4944,960.7908 " fill="none" id="UploadHandler-to-CryptoService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="57.86,955.2769,50.6356,961.9708,55.8887,959.8719,57.9876,965.1249,57.86,955.2769" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="52.5" y="1025.6538">Encrypt Document</text></g><!--link CryptoService to UploadHandler--><g id="link_CryptoService_UploadHandler"><path d="M107.21,955.5169 C131.13,967.9969 159.86,987.0569 176.5,1012.5869 C180.8063,1019.1919 184.4464,1026.3188 187.5192,1033.7391 C189.0556,1037.4492 190.4502,1041.2328 191.7152,1045.0611 C192.3477,1046.9753 192.9479,1048.9007 193.5172,1050.8337 C193.8019,1051.8002 192.4728,1046.9875 192.7422,1047.9574 " fill="none" id="CryptoService-to-UploadHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="194.3483,1053.7385,195.7933,1043.9962,193.0099,1048.9209,188.0852,1046.1375,194.3483,1053.7385" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="185.08" y="1025.6538">Encrypted Blob</text></g><!--link UploadHandler to DocRepo--><g id="link_UploadHandler_DocRepo"><path d="M194.3776,1180.4148 C194.2932,1180.6882 194.2084,1180.9636 194.1233,1181.241 C193.7827,1182.3506 193.4362,1183.4922 193.0846,1184.6646 C192.3814,1187.0095 191.6579,1189.4781 190.9211,1192.0616 C185.0266,1212.7294 178.2819,1240.7531 174.3012,1271.6919 C166.34,1333.5694 169.435,1407.1069 212.5,1456.7769 C271.535,1524.8719 470.115,1560.4169 655.255,1578.9494 C747.825,1588.2156 837.035,1593.2287 903.7619,1595.9309 C937.1253,1597.282 964.868,1598.0554 984.5995,1598.4938 C994.4652,1598.713 1002.3281,1598.8484 1007.8895,1598.9305 C1008.2371,1598.9356 1002.5763,1598.8546 1002.9058,1598.8594 " fill="none" id="UploadHandler-to-DocRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1008.9052,1598.9453,999.9634,1594.8168,1003.9057,1598.8737,999.8489,1602.816,1008.9052,1598.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="213.5" y="1386.0838">Save Metadata</text></g><!--link DocRepo to DB--><g id="link_DocRepo_DB"><path d="M1025.0989,1659.4903 C1025.1538,1659.6072 1025.2091,1659.7238 1025.2648,1659.8402 C1025.3761,1660.0731 1025.4888,1660.3051 1025.603,1660.5364 C1026.5161,1662.3866 1027.52,1664.1849 1028.6231,1665.9135 C1030.8294,1669.3708 1033.4325,1672.5494 1036.5,1675.3069 C1054.87,1691.8269 1067.85,1676.1769 1091.5,1683.3069 C1108.44,1688.4169 1110.34,1695.9969 1127.5,1700.3069 C1144.22,1704.5169 1267.66,1699.5269 1282.5,1708.3069 C1329.93,1736.3669 1354.2521,1794.075 1365.2821,1827.745 " fill="none" id="DocRepo-to-DB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1367.15,1833.4469,1368.1494,1823.6489,1365.5934,1828.6953,1360.547,1826.1394,1367.15,1833.4469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="1128.5" y="1696.3738">SQL Insert</text></g><!--link DocRepo to DB--><g id="link_DocRepo_DB"><path d="M1024.5295,1659.6067 C1024.7519,1660.0694 1024.9802,1660.5287 1025.2145,1660.9843 C1026.1517,1662.8069 1027.1853,1664.571 1028.3245,1666.258 C1030.603,1669.6322 1033.3038,1672.6981 1036.5,1675.3069 C1050.55,1686.7769 1181.91,1678.9069 1199.5,1683.3069 C1216.67,1687.6069 1218.62,1694.9969 1235.5,1700.3069 C1255.71,1706.6769 1264.92,1696.4769 1282.5,1708.3069 C1327.83,1738.8369 1352.6869,1794.6547 1364.4369,1827.6447 " fill="none" id="DocRepo-to-DB-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1366.45,1833.2969,1367.1984,1823.4765,1364.7724,1828.5867,1359.6622,1826.1607,1366.45,1833.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1236.5" y="1696.3738">SQL Query</text></g><!--link DocRepo to DB--><g id="link_DocRepo_DB"><path d="M1024.2847,1659.3588 C1024.3398,1659.4746 1024.3953,1659.5901 1024.4512,1659.7054 C1024.6746,1660.1668 1024.9039,1660.6247 1025.1394,1661.0789 C1026.0812,1662.8955 1027.1205,1664.6524 1028.2667,1666.3306 C1030.5591,1669.6872 1033.2788,1672.7294 1036.5,1675.3069 C1060.2,1694.2669 1284.84,1665.6269 1309.5,1683.3069 C1358.46,1718.4169 1369.5857,1789.5019 1372.2757,1827.4419 " fill="none" id="DocRepo-to-DB-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1372.7,1833.4269,1376.0535,1824.1665,1372.3464,1828.4394,1368.0735,1824.7323,1372.7,1833.4269" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1328.41" y="1696.3738">SQL Query</text></g><!--link UploadHandler to S3--><g id="link_UploadHandler_S3"><path d="M209.2167,1222.6031 C210.2154,1224.6028 211.3253,1226.5361 212.5571,1228.3823 C215.0208,1232.0745 217.9725,1235.4181 221.5,1238.2469 C240.03,1253.1069 1053.35,1240.9469 1076.5,1246.2469 C1093.75,1250.1969 1095.32,1259.0069 1112.5,1263.2469 C1152.67,1273.1669 1259.63,1257.0869 1298.5,1271.2469 C1348.48,1289.4569 1390.881,1327.7819 1416.291,1354.0819 " fill="none" id="UploadHandler-to-S3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1420.46,1358.3969,1417.0832,1349.145,1416.9858,1354.801,1411.3298,1354.7037,1420.46,1358.3969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1113.5" y="1259.3138">Store Blob</text></g><!--link UploadHandler to SearchIndexer--><g id="link_UploadHandler_SearchIndexer"><path d="M209.2761,1222.5317 C210.2713,1224.5358 211.3767,1226.4746 212.603,1228.3273 C215.0558,1232.0328 217.9925,1235.3944 221.5,1238.2469 C236.68,1250.5869 554.12,1243.6069 573.5,1246.2469 C603.94,1250.4069 610.05,1259.1569 640.5,1263.2469 C652.4,1264.8469 1063.35,1263.4769 1072.5,1271.2469 C1077.13,1275.1794 1080.9234,1279.7984 1084.0161,1284.8756 C1084.4027,1285.5102 1081.8357,1280.9231 1082.2007,1281.5716 " fill="none" id="UploadHandler-to-SearchIndexer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1085.1432,1286.8005,1084.2154,1276.9955,1082.6911,1282.4431,1077.2435,1280.9188,1085.1432,1286.8005" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="641.5" y="1259.3138">Index Document</text></g><!--link SearchIndexer to Redis--><g id="link_SearchIndexer_Redis"><path d="M1100.6336,1395.9798 C1100.7544,1396.1671 1100.8765,1396.3559 1100.9998,1396.5462 C1101.9859,1398.0681 1103.0503,1399.6805 1104.1888,1401.3663 C1106.4657,1404.738 1109.0391,1408.4031 1111.8763,1412.2244 C1123.225,1427.5094 1138.795,1445.2919 1156.5,1456.7769 C1167.21,1463.7269 1255.55,1483.2269 1266.5,1489.7769 C1304.9,1512.7469 1335.8747,1547.5355 1355.3447,1572.2255 " fill="none" id="SearchIndexer-to-Redis" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1359.06,1576.9369,1356.628,1567.393,1355.9639,1573.0108,1350.3462,1572.3467,1359.06,1576.9369" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1240.93" y="1477.8438">Cache Index</text></g><!--link SearchIndexer to Redis--><g id="link_SearchIndexer_Redis"><path d="M1100.5944,1397.885 C1100.6533,1397.9867 1100.7126,1398.0887 1100.7721,1398.191 C1100.8912,1398.3957 1101.0116,1398.6018 1101.1331,1398.8092 C1101.3762,1399.224 1101.6241,1399.6441 1101.8768,1400.0693 C1102.3823,1400.9197 1102.907,1401.7901 1103.4507,1402.6781 C1105.6254,1406.2302 1108.1034,1410.0634 1110.8663,1414.0156 C1121.9175,1429.8244 1137.525,1447.5369 1156.5,1456.7769 C1173.6,1465.1069 1312.21,1453.4669 1327.5,1464.7769 C1363.12,1491.1369 1371.9315,1540.2944 1374.2915,1571.0844 " fill="none" id="SearchIndexer-to-Redis-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1374.75,1577.0669,1378.0505,1567.7875,1374.3679,1572.0815,1370.0739,1568.3989,1374.75,1577.0669" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1344.61" y="1477.8438">Check Cache</text></g><!--link UploadHandler to AuditService--><g id="link_UploadHandler_AuditService"><path d="M209.2121,1222.6106 C210.2113,1224.6098 211.3215,1226.5426 212.5538,1228.388 C215.0184,1232.0789 217.9713,1235.4206 221.5,1238.2469 C231.95,1246.6169 1172.52,1242.9569 1185.5,1246.2469 C1201.11,1250.2069 1201.93,1259.1469 1217.5,1263.2469 C1282.42,1280.3369 1455.75,1250.2069 1519.5,1271.2469 C1576.65,1290.1069 1627.058,1333.2255 1653.928,1358.9755 " fill="none" id="UploadHandler-to-AuditService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1658.26,1363.1269,1654.5297,1354.0118,1654.65,1359.6674,1648.9945,1359.7878,1658.26,1363.1269" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="1218.5" y="1259.3138">Log Upload</text></g><!--link DownloadHandler to PermChecker--><g id="link_DownloadHandler_PermChecker"><path d="M1259.6934,1222.4937 C1258.7001,1224.5002 1257.5971,1226.4419 1256.3736,1228.2982 C1253.9266,1232.0108 1250.9975,1235.3819 1247.5,1238.2469 C1236.11,1247.5869 996.96,1243.4369 982.5,1246.2469 C961.1,1250.4069 957.93,1259.2669 936.5,1263.2469 C920.39,1266.2469 358.97,1260.6169 346.5,1271.2469 C341.885,1275.1831 338.1181,1279.805 335.0605,1284.8842 C334.6783,1285.5191 337.2204,1280.9158 336.8601,1281.5646 " fill="none" id="DownloadHandler-to-PermChecker" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="333.9469,1286.8099,341.8136,1280.884,336.3746,1282.4388,334.8198,1276.9998,333.9469,1286.8099" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="983.5" y="1259.3138">Check Access</text></g><!--link PermChecker to DocRepo--><g id="link_PermChecker_DocRepo"><path d="M335.5416,1441.0058 C335.651,1441.2408 335.7617,1441.4751 335.8738,1441.7087 C336.7702,1443.5773 337.7535,1445.3983 338.8315,1447.1546 C340.9875,1450.6672 343.5225,1453.9206 346.5,1456.7769 C401.07,1509.1269 566.635,1544.5494 719.6375,1566.9556 C796.1388,1578.1588 869.4994,1586.1078 924.2747,1591.2917 C951.6623,1593.8837 974.4037,1595.7843 990.5681,1597.0548 C994.6092,1597.3724 998.2392,1597.6507 1001.4281,1597.8905 C1003.0225,1598.0104 1004.5066,1598.1207 1005.8766,1598.2215 C1006.5616,1598.2719 1007.2181,1598.3199 1007.8456,1598.3656 C1008.1594,1598.3884 1002.4815,1597.9775 1002.7807,1597.9991 " fill="none" id="PermChecker-to-DocRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1008.7651,1598.4323,1000.0774,1593.7929,1003.7781,1598.0713,999.4998,1601.7721,1008.7651,1598.4323" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="382.04" y="1477.8438">Query Permissions</text></g><!--link DownloadHandler to S3--><g id="link_DownloadHandler_S3"><path d="M1275.0335,1157.6064 C1275.4251,1157.6625 1275.8291,1157.7205 1276.2453,1157.7806 C1277.0777,1157.9006 1277.9589,1158.0285 1278.8872,1158.1642 C1286.3135,1159.2496 1296.7514,1160.8336 1309.2941,1162.8928 C1334.3794,1167.0113 1367.8838,1173.0306 1402.5525,1180.7644 C1471.89,1196.2319 1545.885,1218.5569 1566.5,1246.2469 C1598.28,1288.9469 1540.7141,1330.0733 1492.8841,1355.5833 " fill="none" id="DownloadHandler-to-S3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1487.59,1358.4069,1497.4135,1357.7009,1492.0017,1356.0539,1493.6487,1350.6421,1487.59,1358.4069" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1575.14" y="1259.3138">Retrieve Blob</text></g><!--link S3 to DownloadHandler--><g id="link_S3_DownloadHandler"><path d="M1444.43,1358.5169 C1448.27,1330.1469 1450.71,1280.3769 1428.5,1246.2469 C1406.4,1212.2819 1366.81,1189.9894 1332.3013,1176.1081 C1315.0469,1169.1675 1299.0628,1164.3297 1287.1705,1161.187 C1284.1974,1160.4014 1281.48,1159.7217 1279.0625,1159.1415 C1277.8537,1158.8514 1276.7199,1158.5863 1275.6666,1158.3452 C1275.4032,1158.2849 1275.1449,1158.2262 1274.8917,1158.1689 C1274.7651,1158.1403 1280.4936,1159.4283 1280.3696,1159.4004 " fill="none" id="S3-to-DownloadHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1274.5158,1158.0841,1282.419,1163.9611,1279.394,1159.181,1284.1741,1156.156,1274.5158,1158.0841" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1437.78" y="1259.3138">Encrypted Blob</text></g><!--link DownloadHandler to CryptoService--><g id="link_DownloadHandler_CryptoService"><path d="M1260.2183,1053.2103 C1260.0229,1052.8669 1259.8246,1052.5253 1259.6232,1052.1856 C1256.4016,1046.7506 1252.4113,1041.8031 1247.5,1037.5869 C1238.47,1029.8269 402.28,1031.2769 390.5,1029.5869 C289.52,1015.0869 181.3086,979.7701 119.0486,957.4701 " fill="none" id="DownloadHandler-to-CryptoService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="113.4,955.4469,120.5241,962.2474,118.1072,957.1329,123.2217,954.7159,113.4,955.4469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="391.5" y="1025.6538">Decrypt</text></g><!--link CryptoService to DownloadHandler--><g id="link_CryptoService_DownloadHandler"><path d="M126.4,945.5569 C202.13,956.1869 335.95,978.0769 446.5,1012.5869 C464.55,1018.2169 467.01,1025.6269 485.5,1029.5869 C506.2,1034.0169 1231.45,1023.7869 1247.5,1037.5869 C1252.4088,1041.8069 1256.3972,1046.7572 1259.6175,1052.1942 C1259.8187,1052.534 1257.0518,1047.6596 1257.2471,1048.0032 " fill="none" id="CryptoService-to-DownloadHandler" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1260.2123,1053.2193,1259.2419,1043.4184,1257.7413,1048.8725,1252.2871,1047.372,1260.2123,1053.2193" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="486.5" y="1025.6538">Plaintext</text></g><!--link DownloadHandler to AuditService--><g id="link_DownloadHandler_AuditService"><path d="M1274.9055,1156.955 C1275.3582,1156.9858 1275.8281,1157.0179 1276.3148,1157.0514 C1278.2614,1157.1854 1280.477,1157.3415 1282.9429,1157.5205 C1292.8062,1158.2366 1306.6734,1159.3202 1323.3486,1160.8284 C1356.6991,1163.845 1401.2819,1168.5606 1447.5313,1175.4344 C1540.03,1189.1819 1639.195,1211.5619 1668.5,1246.2469 C1696.37,1279.2369 1689.055,1328.8435 1682.055,1357.0535 " fill="none" id="DownloadHandler-to-AuditService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1680.61,1362.8769,1686.6598,1355.1051,1681.8142,1358.024,1678.8953,1353.1784,1680.61,1362.8769" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1679.07" y="1259.3138">Log Download</text></g><!--link SearchHandler to SearchIndexer--><g id="link_SearchHandler_SearchIndexer"><path d="M692.6424,1176.413 C692.8583,1176.878 693.0784,1177.3483 693.3028,1177.8235 C695.0982,1181.6254 697.1666,1185.7447 699.5063,1190.0181 C708.865,1207.1119 722.565,1226.6719 740.5,1238.2469 C793.98,1272.7569 818.23,1256.3469 881.5,1263.2469 C892.06,1264.3969 1064.49,1264.2769 1072.5,1271.2469 C1077.0838,1275.2331 1080.8423,1279.8928 1083.9094,1284.9998 C1084.2928,1285.6382 1081.7524,1281.0382 1082.1144,1281.6901 " fill="none" id="SearchHandler-to-SearchIndexer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1085.0274,1286.9355,1084.1549,1277.1254,1082.5999,1282.5643,1077.161,1281.0094,1085.0274,1286.9355" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="882.5" y="1259.3138">Search</text></g><!--link SearchIndexer to DocRepo--><g id="link_SearchIndexer_DocRepo"><path d="M1081.9723,1441.0194 C1081.9188,1441.14 1081.865,1441.2605 1081.811,1441.3808 C1081.7029,1441.6215 1081.5937,1441.8616 1081.4834,1442.1012 C1081.2628,1442.5803 1081.0378,1443.0572 1080.8084,1443.5316 C1080.3496,1444.4804 1079.8729,1445.4192 1079.3776,1446.3462 C1077.3966,1450.0541 1075.1188,1453.5719 1072.5,1456.7769 C1067.47,1462.9369 1062.68,1459.7869 1056.5,1464.7769 C1045.43,1473.7269 1042.35,1476.8069 1036.5,1489.7769 C1035.2537,1492.5419 1034.0889,1495.3802 1033.0003,1498.2725 C1032.4559,1499.7186 1031.9307,1501.1782 1031.4237,1502.6488 C1031.1703,1503.3841 1030.9214,1504.1221 1030.677,1504.8626 C1030.6159,1505.0478 1032.417,1499.5292 1032.3564,1499.7147 " fill="none" id="SearchIndexer-to-DocRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1030.4946,1505.4185,1037.0899,1498.104,1032.0461,1500.6653,1029.4848,1495.6215,1030.4946,1505.4185" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="1057.5" y="1477.8438">Query DB</text></g><!--link VersionHandler to DocRepo--><g id="link_VersionHandler_DocRepo"><path d="M958.8535,1215.0962 C958.8177,1215.2385 958.7818,1215.3808 958.7458,1215.5231 C958.6739,1215.8078 958.6018,1216.0925 958.5295,1216.3773 C958.3848,1216.9468 958.2393,1217.5166 958.0929,1218.0863 C957.5075,1220.3651 956.9089,1222.6435 956.2982,1224.909 C955.0769,1229.44 953.8075,1233.9194 952.5,1238.2469 C949.26,1248.9569 941.79,1255.1369 949.5,1263.2469 C961.69,1276.0669 1095.7,1259.0469 1108.5,1271.2469 C1176.49,1336.0869 1190.96,1412.4969 1127.5,1481.7769 C1113.79,1496.7469 1051.45,1476.0469 1036.5,1489.7769 C1032.0338,1493.8806 1028.3789,1498.6289 1025.4034,1503.801 C1025.0315,1504.4475 1027.4895,1499.8042 1027.1385,1500.4636 " fill="none" id="VersionHandler-to-DocRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1024.3192,1505.7599,1032.0791,1499.6949,1026.6686,1501.3463,1025.0173,1495.9358,1024.3192,1505.7599" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="1169.08" y="1386.0838">Version CRUD</text></g><!--link VersionHandler to S3--><g id="link_VersionHandler_S3"><path d="M979.5864,1178.0329 C979.6405,1178.1561 979.6949,1178.2796 979.7496,1178.4035 C979.859,1178.6511 979.9694,1178.9 980.081,1179.1501 C980.3042,1179.6504 980.5319,1180.1555 980.764,1180.6651 C981.2283,1181.6843 981.7106,1182.7216 982.211,1183.7739 C983.2117,1185.8786 984.2848,1188.0436 985.4313,1190.2456 C994.6025,1207.8619 1008.465,1227.8469 1027.5,1238.2469 C1054.03,1252.7469 1271.59,1234.6069 1299.5,1246.2469 C1355.81,1269.7369 1399.2999,1321.9807 1422.1299,1353.6307 " fill="none" id="VersionHandler-to-S3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1425.64,1358.4969,1423.619,1348.8576,1422.7149,1354.4418,1417.1308,1353.5377,1425.64,1358.4969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="1328.37" y="1259.3138">Store Version</text></g><!--link DocRepo to DocModel--><g id="link_DocRepo_DocModel"><path d="M1009.4254,1624.0083 C1008.8166,1625.8254 1008.1888,1627.7197 1007.5475,1629.6794 C1002.4175,1645.3569 996.43,1665.2219 992.5,1683.3069 C988.4675,1701.8669 985.0269,1721.715 982.1309,1741.0931 C980.683,1750.7822 979.3712,1760.3538 978.1896,1769.588 C978.042,1770.7423 977.8963,1771.8914 977.7527,1773.0347 C977.6809,1773.6063 978.3508,1768.2225 978.28,1768.7913 " fill="none" id="DocRepo-to-DocModel" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="977.5387,1774.7453,982.6199,1766.3084,978.1564,1769.7836,974.6812,1765.3201,977.5387,1774.7453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="993.5" y="1696.3738">Use</text></g><!--link DocRepo to VersionModel--><g id="link_DocRepo_VersionModel"><path d="M1027.3591,1659.4377 C1027.4222,1659.611 1027.4857,1659.7842 1027.5497,1659.9572 C1027.6776,1660.3034 1027.8071,1660.6491 1027.9383,1660.9943 C1030.037,1666.5177 1032.5575,1671.9152 1035.5844,1676.9277 C1041.6381,1686.9525 1049.7175,1695.4369 1060.5,1700.3069 C1079.45,1708.8769 1232.18,1694.2469 1247.5,1708.3069 C1271.405,1730.2469 1276.38,1766.2244 1275.2688,1797.1069 C1275.1298,1800.9672 1274.8958,1804.7479 1274.5918,1808.4116 C1274.5728,1808.6406 1275.0658,1802.891 1275.0463,1803.1191 " fill="none" id="DocRepo-to-VersionModel" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1274.534,1809.0972,1279.2878,1800.4715,1274.9609,1804.1154,1271.317,1799.7885,1274.534,1809.0972" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1061.5" y="1696.3738">Use</text></g><!--SRC=[bLZRSjis47tdLsoTXoGFbgUvlF2XCxhLSKUE5LsIwTHzW4XOGas1B03QaJEUwRVqq_ebNTn4WY8jsvF9cBiBOC_kmUx2FwNqXd4Ai_5mqVzyFXb3aX4feqWnbL4OVe3BFAKPdC8mtnOvfrp1Y96r85juCw5tg7h_5hMZF2ctMZcdueubD8fUm_YxeeAJ34Qqe3obF65KHe8cYl0rRdxIdrx0EL7qdknEW4Z_ExoQiFL6_KwpBB-lsm_5hb2vFy8iiI8dSGlF1QKyEATCcGgM6KdRgfGeiY8I5qrpgTQ2phzCp8hHmDaDSq6ocjtLwYyy2UOAvMkx-_nzX-sCfWnz9id66jhlLrS27SMG5IIvnJtWf1bD33vN1FCaJk17183_NiEdnM8A4xAZ0Z-JVNPEZ7oMbnZyQ_xcF0TErTb6gUAjFTDed8E3hAHcHm2UAmf22yqdm9YdHSwuah4JJA_c2pXBdM_IIS_7TU7P3vO-UljbbsOqdemNumvbOqD9YKWsHeSaCcxYnwEFmYLBqmnP8sZ5K1a6f5-g3Vx24g9OpgzvjSHnGMqklmMawmh9V__y2rz9nZ2Z57xxjW2Lto9fAYLINX1aGoann7YJs5RMj1VSKCKgCQFqk-h0rV0-5-oXs_c75tW_tD3a5cQ3_X0AAhPCIjorxkFuZcIbXjStDdd6pAsj6V2RN20bIP9GAGqEaMV7SKpozPhnzG42bB_0VxG6GVykgLHdWahSNDAQUe7HlzN8qCSjuKbTDnOY5w3pSuj-T1Bg4-7edkXaqxB8Sf9USsTdC5YPNrch9rrGVkvLFBfXcNVpNSybw30txtiO-KHNE_1tmsa-z4pneR2bYkXQu-GVUrXVL2duVW5SZ8xdQPJVyqE4NleoZ5rWtXdN1CF-WSuOL3I5LPQlAhGZserMK6m_s0dqJQhGQcwapi_ZEEUcheGehUnb6AT4O6b7HehTix9epsWc2s7zoZ9Tc5SxTxKEqeXyBpDNTv-4zfKAQOf57PiJlZ2166cKSdeFTtPzXT6IhX3qZkMbREWHwB8mz3u4UecTJ7Sps329U-mwh-AWbDZpfAaHBEcyaRvRNlCPBNB9z9wEj8cM-0RRXNFa-pDPILE-4KPShvcpvGXoJAOfmJ8iDrpQ1O3b1djtZQdQu8kc1QnAbgNTDQS6PRfdp3Kt77B9qtBtVGnDLUNnAc1EDgmuqCWDLjyqv5cbnN9EZtM7e34y2GbfJQ-vgtQvXQDbUybp0Ea5e7O5XJkxh6AQLi_P0uMCRPcgEtj9CZCNo8HmxiFlWEhkYzu5gcULYmiSPBy7vS99dWF3c3PlXC5NPjcfdWUWDkuuL_KypcxSzAAx1LQ91XezK1uf3wyDpTqqV_mc6Jj_YUoYunEZIT1-TiMxLEAqyyCf0RiF13zboTBUSkcQalvPc4T7zODRL4YX6Ogc-ahplNR8uVx3KWXqpPL20BQ_hE1ANTfNxbknBUqjyB-zXIretHQFBwZCLNoTw4KnzW2EXFWm03uvrkvGxpR-N6vNoEXwUCQ-JG-mIyCVVwvsYZPZDzXrnJs8xJFYzXYy7o_mihgwB2F_I3mz_SM_PMBx5fhPkH0VhqwkJTnq7qC_ooeB9_K63zQYUYVGDF9oRMDdL6kXPt5KMv5MXiDVVF1CgYoRGrJS-dYgxCDnn5cx0b5PDHfxl6V7LI5r6BqYY6BejDuchCdnVZwDGaKROgCzk-2cDaSjUuUlz7W_oNewHg51snbx_e4cODiXljl7C2SuLrxwAklbncQWrLyc60mS7LNRDlXuZzriqtLIMFTZLzRtO4AruQbvvyUkK1jDsxx1NoLYCyzQeoXgKaURruU2sFNklctfTLKO6pkHJ6lTlJK-ngpzM1EW_VXkOeIYTdutizQsNvCSRl1luSJX_jDCpvBw7TswTKj0lLaKXRUhBQ_s-wbycfYRhBPODOC-6ZmPwyOz3dVmTrhFecsMDTOwhRxwjgai9GwcuT6-fyUe35L1EpBg_m40]--></g></svg>